<nav class="bg-neutral-primary fixed w-full z-20 top-0 border-b border-default">
  <div class="max-w-7xl mx-auto p-4 flex items-center justify-between">

    <!-- Logo -->
    <a routerLink="/home" class="flex items-center">
      <img src="/images/freshcart-logo.svg" alt="fresh-cart-logo" />
    </a>

    <!-- Links -->
    <ul
      class="flex flex-col md:flex-row gap-4 items-center font-medium"
    >
      <!-- Public links -->
      <li>
        <a
          routerLink="/home"
          routerLinkActive="active-link"
          [routerLinkActiveOptions]="{ exact: true }"
          class="nav-link"
        >
          Home
        </a>
      </li>

      <li>
        <a
          routerLink="/products"
          routerLinkActive="active-link"
          class="nav-link"
        >
          Products
        </a>
      </li>

      <li>
        <a
          routerLink="/categories"
          routerLinkActive="active-link"
          class="nav-link"
        >
          Categories
        </a>
      </li>

      <li>
        <a
          routerLink="/brands"
          routerLinkActive="active-link"
          class="nav-link"
        >
          Brands
        </a>
      </li>

      <!-- Logged in -->
      @if (isLoggedIn | async) {

        <li>
          <button
            (click)="openCart()"
            class="relative nav-link"
            aria-label="Shopping cart"
          >
            <i class="fas fa-shopping-cart text-lg"></i>

            @if ((cartService.numOfCartItems | async)! > 0) {
              <span
                class="absolute -top-1 -right-2 bg-red-500 text-white text-xs font-bold
                      rounded-full h-5 w-5 flex items-center justify-center"
              >
                {{ cartService.numOfCartItems | async }}
              </span>
            }
          </button>
        </li>

        <li>
          <a
            routerLink="/wishlist"
            routerLinkActive="active-link"
            class="nav-link"
          >
            Wishlist
          </a>
        </li>

        <li>
          <a
            routerLink="/orders"
            routerLinkActive="active-link"
            class="nav-link"
          >
            Orders
          </a>
        </li>

        <li>
          <button
            (click)="logOut()"
            class="nav-link text-red-600"
          >
            Logout
          </button>
        </li>

      } @else {

        <!-- Guest -->
        <li>
          <a
            routerLink="/auth/login"
            routerLinkActive="active-link"
            class="nav-link"
          >
            Login
          </a>
        </li>

        <li>
          <a
            routerLink="/auth/register"
            routerLinkActive="active-link"
            class="nav-link"
          >
            Register
          </a>
        </li>

      }
    </ul>
  </div>
</nav>
